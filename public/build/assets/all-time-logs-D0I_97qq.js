import{r as u,j as e,H as C,b as A}from"./app-Bk4PR63W.js";import{E as L}from"./action-buttons-CALaFlZl.js";import{B as E}from"./back-button-ya3in1Ao.js";import{S as F}from"./StatsCards-BqpicGni.js";import{T as O}from"./time-log-table-DhRlN5aO.js";import{B as j}from"./button-BGAiRGZg.js";import{C as B,a as P,b as H,c as y,d as _}from"./card-Dtas3RKB.js";import{P as D}from"./pagination-00jpTCcg.js";import{M}from"./master-layout-DChFziky.js";import R from"./AllTimeLogsFiltersOffCanvas-Wvk1Fl5i.js";import{F as U}from"./filter-CK6GDAjJ.js";import{C as V}from"./circle-check-big-8QtwTSF-.js";import{C as q}from"./clock-oQTHBRij.js";/* empty css            */import"./download-Cz3VsTSC.js";import"./createLucideIcon-CdLL0xzd.js";import"./utils-DKW5XViW.js";import"./arrow-left-2sSyqyTB.js";import"./StatsCard-DgP_I3mb.js";import"./users-DZUcVCZB.js";import"./timer-reset-fsukqXkc.js";import"./dollar-sign-Bm2w-Hi4.js";import"./index-D-Gk-yT4.js";import"./index-D-w6wlEG.js";import"./dropdown-menu-DdvMI060.js";import"./index-Dely6azp.js";import"./index-DDqfYr5D.js";import"./index-BsY2LpXN.js";import"./index-C79L9l-a.js";import"./floating-ui.react-dom-8ikc8Qbx.js";import"./index-DiDFMmY4.js";import"./index-BJl2vPHw.js";import"./index-D5x193o-.js";import"./index-B_GyHV6l.js";import"./trash-2-C7f2dPei.js";import"./time-log-details-sheet-DzzVx0s2.js";import"./badge-BNr9aysp.js";import"./sheet-D7dB8w4W.js";import"./index-DDNv-7cB.js";import"./x-Dz3a5Yj_.js";import"./purify.es-CEVJ7K31.js";import"./briefcase-BMGbk75R.js";import"./user-C4MlcwvE.js";import"./tag-D4CKyAHb.js";import"./file-text-BEAzekmp.js";import"./calendar-days-CLzzNnKl.js";import"./info-Bu7rbUlW.js";import"./table-B_Bh9XXk.js";import"./ellipsis-vertical-1uG8dloI.js";import"./glasses-BGYPtpd2.js";import"./square-pen-Ch07ck8l.js";import"./chevron-left-CSp40gaM.js";import"./chevron-right-BUIh066M.js";import"./cookie-consent-4J8V3XdM.js";import"./select-BTxuEGZI.js";import"./index-CPvS59-d.js";import"./chevron-up-F-D43jrY.js";import"./TaskController-DRILXs0Z.js";import"./jira-icon-wsasIrn-.js";import"./loader-circle-BCYeDwOj.js";import"./plus-p8BKPWNs.js";import"./appearance-dropdown-mVcvt_IG.js";import"./circle-alert-BqzIHG1p.js";import"./checkbox-DLdSU6vz.js";import"./label-HoiQ3GNm.js";import"./settings-DsZ09whw.js";import"./bell-CQjVsOHt.js";import"./app-logo-icon-CFfAIG7o.js";import"./github-DB_zkOOK.js";import"./log-out-CHwRCYXF.js";import"./building-b-lKGHwq.js";import"./projector-DmVTEmlk.js";import"./clipboard-list-CMM2SLJn.js";import"./timer-CKwyTId6.js";import"./square-check-big-BqCCrkHI.js";import"./AllTimeLogsFilters-Dj7OFl4t.js";import"./filter-button-C5BxQfOd.js";import"./react-datepicker-CNrS-JzU.js";import"./searchable-select-CIlCAQSR.js";import"./calendar-CgkFkY-D.js";import"./search-Cz_KF6xL.js";import"./sliders-horizontal-CDSa6otV.js";function ye({timeLogs:i,filters:t,teamMembers:d,projects:c,tags:g,totalDuration:b,unpaidHours:w,unpaidAmountsByCurrency:l,paidAmountsByCurrency:x,currency:N,weeklyAverage:k,unbillableHours:v,links:p=[]}){const S=[{title:"Team",href:"/team"},{title:"All Time Logs",href:"/team/all-time-logs"}],[s,n]=u.useState([]),f=(a,r)=>{n(r?[...s,a]:s.filter(o=>o!==a))},$=()=>{s.length!==0&&A.post(route("time-log.mark-as-paid"),{time_log_ids:s},{onSuccess:()=>{n([])}})},[T,h]=u.useState(!1);return e.jsxs(M,{breadcrumbs:S,children:[e.jsx(C,{title:"All Team Time Logs"}),e.jsxs("div",{className:"mx-auto flex flex-col gap-4 p-4",children:[e.jsx("section",{className:"mb-2",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-medium tracking-tight text-gray-800 dark:text-gray-100",children:"All Team Time Logs"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"View and manage time logs for all team members"})]}),e.jsx(E,{})]})}),i.length>0&&e.jsx("section",{className:"mb-4",children:e.jsx(F,{teamStats:{count:d.length,totalHours:b,unpaidHours:w,unpaidAmount:Object.values(l).reduce((a,r)=>a+r,0),unpaidAmountsByCurrency:l,paidAmount:Object.values(x).reduce((a,r)=>a+r,0),paidAmountsByCurrency:x,currency:N,weeklyAverage:k,clientCount:-1,unbillableHours:v}})}),e.jsxs(B,{className:"overflow-hidden bg-white shadow-sm transition-all dark:bg-gray-800",children:[e.jsx(P,{className:"p-4 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx(H,{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Team Time Logs"}),e.jsx(y,{className:"text-sm text-gray-500 dark:text-gray-400",children:i.length>0?`Showing ${i.length} time ${i.length===1?"entry":"entries"}`:"No time logs found for the selected period"}),(t["start-date"]||t["end-date"]||t.user||t.project||t["is-paid"]||t.status||t.tag)&&e.jsx(y,{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:(()=>{let a="";if(t["start-date"]&&t["end-date"]?a=`Showing logs from ${t["start-date"]} to ${t["end-date"]}`:t["start-date"]?a=`Showing logs from ${t["start-date"]}`:t["end-date"]&&(a=`Showing logs until ${t["end-date"]}`),t.user){const r=d.find(m=>m.id.toString()===t.user),o=r?r.name:"";a?a+=` for ${o}`:a=`Showing logs for ${o}`}if(t.project){const r=c.find(m=>m.id.toString()===t.project),o=r?r.name:"";a?a+=` on ${o}`:a=`Showing logs for ${o}`}if(t.tag){const r=g.find(m=>m.id.toString()===t.tag),o=r?r.name:"";a?a+=` tagged with ${o}`:a=`Showing logs tagged with ${o}`}if(t["is-paid"]){const r=t["is-paid"]==="true"?"paid":"unpaid";a?a+=` (${r})`:a=`Showing ${r} logs`}if(t.status){const r=t.status==="pending"?"pending":t.status==="approved"?"approved":"rejected";a?a+=` with ${r} status`:a=`Showing logs with ${r} status`}return a})()})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(j,{variant:t["start-date"]||t["end-date"]||t.user||t.project||t.tag||t["is-paid"]||t.status?"default":"outline",className:`flex items-center gap-2 ${t["start-date"]||t["end-date"]||t.user||t.project||t.tag||t["is-paid"]||t.status?"border-primary/20 bg-primary/10 text-primary hover:border-primary/30 hover:bg-primary/20 dark:border-primary/30 dark:bg-primary/20 dark:text-primary-foreground dark:hover:bg-primary/30":"text-gray-600 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-800"}`,onClick:()=>h(!0),children:[e.jsx(U,{className:`h-4 w-4 ${t["start-date"]||t["end-date"]||t.user||t.project||t.tag||t["is-paid"]||t.status?"text-primary dark:text-primary-foreground":""}`}),e.jsx("span",{children:t["start-date"]||t["end-date"]||t.user||t.project||t.tag||t["is-paid"]||t.status?"Filters Applied":"Filters"})]}),e.jsx(L,{href:`${route("team.export-time-logs")}${window.location.search}`,label:"Export"}),s.length>0&&e.jsxs(j,{onClick:$,className:"flex items-center gap-2 bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600",children:[e.jsx(V,{className:"h-3.5 w-3.5"}),e.jsxs("span",{children:["Mark as Paid (",s.length,")"]})]})]})]})}),e.jsxs(_,{className:"p-0",children:[i.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsx(O,{timeLogs:i,showCheckboxes:!0,showActions:!0,showEditDelete:!1,showMember:!0,selectedLogs:s,onSelectLog:f})}):e.jsx("div",{className:"rounded-md p-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(q,{className:"mb-4 h-12 w-12 text-gray-300 dark:text-gray-600"}),e.jsx("h3",{className:"mb-1 text-lg font-medium text-gray-800 dark:text-gray-200",children:"No Time Logs"}),e.jsx("p",{className:"mb-4 text-sm text-gray-500 dark:text-gray-400",children:"No time logs found with the selected filters."})]})}),p&&p.length>0&&e.jsx("div",{className:"border-t border-gray-100 px-4 py-3 dark:border-gray-700",children:e.jsx(D,{links:p})})]})]}),e.jsx(R,{open:T,onOpenChange:h,filters:t,teamMembers:d,projects:c,tags:g})]})]})}export{ye as default};
