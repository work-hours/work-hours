import{r as x,j as e,H as C,b as T}from"./app-CE94QcfB.js";import{E as L}from"./action-buttons-DllMgloq.js";import{B as E}from"./back-button-DPzgaXSY.js";import{S as F}from"./StatsCards-CR2xsvz3.js";import{T as O}from"./time-log-table-9RS4znol.js";import{B as h}from"./button-CSc-Cw7e.js";import{C as B,a as M,b as P,c as j,d as H}from"./card-BF0DTRGt.js";import{P as A}from"./pagination-iEnuQ2Ro.js";import{M as _}from"./master-layout-tsVhh441.js";import D from"./MemberTimeLogsFiltersOffCanvas-Du5Mks_N.js";import{F as I}from"./filter-BedxScMf.js";import{C as R}from"./circle-check-big-D6zoYCqp.js";import{C as q}from"./clock-CV0oisNo.js";/* empty css            */import"./download-BHzq6k4i.js";import"./createLucideIcon-D9NWueAg.js";import"./utils-DKW5XViW.js";import"./arrow-left-DJNiNUOf.js";import"./StatsCard-BGWT5x8_.js";import"./users-Dah8edja.js";import"./timer-reset-XwZDwRHv.js";import"./dollar-sign-CD5JibCT.js";import"./index-C5Svuudg.js";import"./index-BC-ip4sp.js";import"./dropdown-menu-Dy5Hq4rj.js";import"./index-gOG35dkf.js";import"./index-Becnjq-x.js";import"./index-DkUby8a3.js";import"./index-DmtIMq0f.js";import"./floating-ui.react-dom-ODH34Sgt.js";import"./index-OH_msQzS.js";import"./index-DwOlKDQm.js";import"./index-CSGd7LPk.js";import"./index-C7hwMZoy.js";import"./trash-2-BRVXkUm4.js";import"./time-log-details-sheet-BDQnvuCG.js";import"./badge-Do30HICq.js";import"./sheet-0Ok6l0ab.js";import"./index-fJEy3cUu.js";import"./x-BKkU3iVo.js";import"./purify.es-CEVJ7K31.js";import"./briefcase-BmAm87Tp.js";import"./user-BD4_3ZDB.js";import"./tag-C27JhtJu.js";import"./file-text-D51RJe6F.js";import"./calendar-days-BgdjpWi0.js";import"./info-Im89IFst.js";import"./table-C7t7xskR.js";import"./ellipsis-vertical-COc6NTvl.js";import"./glasses-BsUinA32.js";import"./square-pen-CaQ0rD2U.js";import"./chevron-left--yMEEuJA.js";import"./chevron-right-BzTA_0kR.js";import"./cookie-consent-CR7wTwap.js";import"./select-D_MCfbK8.js";import"./index-DssjTqXu.js";import"./chevron-up-BMiBX3If.js";import"./TaskController-DRILXs0Z.js";import"./jira-icon-pYe84P2s.js";import"./loader-circle-D1ym3s0F.js";import"./plus-CeOzYAGh.js";import"./appearance-dropdown-CplWtr1N.js";import"./circle-alert-5FNlBjr8.js";import"./checkbox-TCMWq4Ph.js";import"./label-DISzI683.js";import"./settings-Bjly2KGq.js";import"./bell-CbXQzXBs.js";import"./app-logo-icon-DHSG1eGj.js";import"./github-CZtBj8bQ.js";import"./log-out-BQwzfcg9.js";import"./building-BzSs3yfb.js";import"./projector-C9mKpjiA.js";import"./clipboard-list-BccoXVyt.js";import"./timer-BE1bBtuS.js";import"./square-check-big-B68kPrbC.js";import"./MemberTimeLogsFilters-DxzOYNbR.js";import"./filter-button-B8qubTbI.js";import"./react-datepicker-Cpw6gAu9.js";import"./searchable-select-BHMLfEm8.js";import"./calendar-C8zGel57.js";import"./search-4eIqUzEe.js";import"./sliders-horizontal-CZJRYnNd.js";function ue({timeLogs:i,filters:t,projects:n,user:o,totalDuration:u,unpaidHours:y,unpaidAmountsByCurrency:c,paidAmountsByCurrency:l,currency:b,weeklyAverage:k,unbillableHours:N,links:d=[]}){const f=[{title:"Team",href:"/team"},{title:o.name,href:`/team/${o.id}/time-logs`}],[s,p]=x.useState([]),[v,g]=x.useState(!1),w=(r,a)=>{p(a?[...s,r]:s.filter(m=>m!==r))},$=()=>{s.length!==0&&T.post(route("time-log.mark-as-paid"),{time_log_ids:s},{onSuccess:()=>{p([])}})};return e.jsxs(_,{breadcrumbs:f,children:[e.jsx(C,{title:`${o.name}'s Time Logs`}),e.jsxs("div",{className:"mx-auto flex flex-col gap-4 p-4",children:[e.jsx("section",{className:"mb-2",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-medium tracking-tight text-gray-800 dark:text-gray-100",children:[o.name,"'s Time Logs"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Track and manage work hours for this team member"})]}),e.jsx(E,{})]})}),i.length>0&&e.jsx("section",{className:"mb-4",children:e.jsx(F,{teamStats:{count:-1,totalHours:u,unpaidHours:y,unpaidAmount:Object.values(c).reduce((r,a)=>r+a,0),unpaidAmountsByCurrency:c,paidAmount:Object.values(l).reduce((r,a)=>r+a,0),paidAmountsByCurrency:l,currency:b,weeklyAverage:k,clientCount:-1,unbillableHours:N}})}),e.jsxs(B,{className:"overflow-hidden bg-white shadow-sm transition-all dark:bg-gray-800",children:[e.jsx(M,{className:"p-4 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsxs("div",{children:[e.jsxs(P,{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:[o.name,"'s Time Logs"]}),e.jsx(j,{className:"text-sm text-gray-500 dark:text-gray-400",children:i.length>0?`Showing ${i.length} time ${i.length===1?"entry":"entries"}`:"No time logs found for the selected period"}),(t["start-date"]||t["end-date"]||t.project||t["is-paid"]||t.status)&&e.jsx(j,{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:(()=>{let r="";if(t["start-date"]&&t["end-date"]?r=`Showing logs from ${t["start-date"]} to ${t["end-date"]}`:t["start-date"]?r=`Showing logs from ${t["start-date"]}`:t["end-date"]&&(r=`Showing logs until ${t["end-date"]}`),t.project){const a=n.find(S=>S.id.toString()===t.project),m=a?a.name:"";r?r+=` for ${m}`:r=`Showing logs for ${m}`}if(t["is-paid"]){const a=t["is-paid"]==="true"?"paid":"unpaid";r?r+=` (${a})`:r=`Showing ${a} logs`}if(t.status){const a=t.status==="pending"?"pending":t.status==="approved"?"approved":"rejected";r?r+=` with ${a} status`:r=`Showing logs with ${a} status`}return r})()})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(h,{variant:t["start-date"]||t["end-date"]||t.project||t["is-paid"]||t.status?"default":"outline",className:`flex items-center gap-2 ${t["start-date"]||t["end-date"]||t.project||t["is-paid"]||t.status?"border-primary/20 bg-primary/10 text-primary hover:border-primary/30 hover:bg-primary/20 dark:border-primary/30 dark:bg-primary/20 dark:text-primary-foreground dark:hover:bg-primary/30":"text-gray-600 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-800"}`,onClick:()=>g(!0),children:[e.jsx(I,{className:`h-4 w-4 ${t["start-date"]||t["end-date"]||t.project||t["is-paid"]||t.status?"text-primary dark:text-primary-foreground":""}`}),e.jsx("span",{children:t["start-date"]||t["end-date"]||t.project||t["is-paid"]||t.status?"Filters Applied":"Filters"})]}),e.jsx(L,{href:`${route("team.export-time-logs")}?user=${o.id}${window.location.search.replace("?","&")}`,label:"Export"}),s.length>0&&e.jsxs(h,{onClick:$,className:"flex items-center gap-2 bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600",children:[e.jsx(R,{className:"h-3.5 w-3.5"}),e.jsxs("span",{children:["Mark as Paid (",s.length,")"]})]})]})]})}),e.jsxs(H,{className:"p-0",children:[i.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsx(O,{timeLogs:i,showCheckboxes:!0,showActions:!0,showEditDelete:!1,selectedLogs:s,onSelectLog:w})}):e.jsx("div",{className:"rounded-md p-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(q,{className:"mb-4 h-12 w-12 text-gray-300 dark:text-gray-600"}),e.jsx("h3",{className:"mb-1 text-lg font-medium text-gray-800 dark:text-gray-200",children:"No Time Logs"}),e.jsxs("p",{className:"mb-4 text-sm text-gray-500 dark:text-gray-400",children:[o.name," hasn't added any time logs yet."]})]})}),d&&d.length>0&&e.jsx("div",{className:"border-t border-gray-100 px-4 py-3 dark:border-gray-700",children:e.jsx(A,{links:d})})]})]}),e.jsx(D,{open:v,onOpenChange:g,filters:t,projects:n,userId:o.id})]})]})}export{ue as default};
