import{r as l,j as e,b as k,c as N,H as v,L as y}from"./app-Bk4PR63W.js";import{E as C}from"./action-buttons-CALaFlZl.js";import{t as w}from"./index-D-Gk-yT4.js";import{B as d}from"./button-BGAiRGZg.js";import{D,h as T,a as F,c as S,d as E,g as M,i as O,M as P,F as A}from"./master-layout-DChFziky.js";import{D as x,a as H,b as L,c as B}from"./dropdown-menu-DdvMI060.js";import{T as R}from"./trash-2-C7f2dPei.js";import{C as U,a as I,b as _,c as u,d as $}from"./card-Dtas3RKB.js";import{T as Y,a as q,b as z,c as i,d as V,e as G,f as o}from"./table-B_Bh9XXk.js";import{getClientFilterDescription as J}from"./ClientFilters-CgTht72m.js";import K from"./ClientFiltersOffCanvas-ft7y6rcx.js";import Q from"./ClientOffCanvas-CYCbdIum.js";import{F as W}from"./filter-CK6GDAjJ.js";import{P as j}from"./plus-p8BKPWNs.js";import{E as X}from"./ellipsis-vertical-1uG8dloI.js";import{F as Z}from"./file-text-BEAzekmp.js";import{S as ee}from"./square-pen-Ch07ck8l.js";import{U as re}from"./users-DZUcVCZB.js";/* empty css            */import"./download-Cz3VsTSC.js";import"./createLucideIcon-CdLL0xzd.js";import"./index-D-w6wlEG.js";import"./index-DDqfYr5D.js";import"./utils-DKW5XViW.js";import"./cookie-consent-4J8V3XdM.js";import"./index-BsY2LpXN.js";import"./index-D5x193o-.js";import"./index-Dely6azp.js";import"./index-DiDFMmY4.js";import"./index-C79L9l-a.js";import"./floating-ui.react-dom-8ikc8Qbx.js";import"./index-BJl2vPHw.js";import"./select-BTxuEGZI.js";import"./index-CPvS59-d.js";import"./chevron-up-F-D43jrY.js";import"./TaskController-DRILXs0Z.js";import"./jira-icon-wsasIrn-.js";import"./x-Dz3a5Yj_.js";import"./loader-circle-BCYeDwOj.js";import"./index-DDNv-7cB.js";import"./sheet-D7dB8w4W.js";import"./clock-oQTHBRij.js";import"./appearance-dropdown-mVcvt_IG.js";import"./circle-alert-BqzIHG1p.js";import"./checkbox-DLdSU6vz.js";import"./label-HoiQ3GNm.js";import"./badge-BNr9aysp.js";import"./chevron-right-BUIh066M.js";import"./settings-DsZ09whw.js";import"./bell-CQjVsOHt.js";import"./app-logo-icon-CFfAIG7o.js";import"./github-DB_zkOOK.js";import"./log-out-CHwRCYXF.js";import"./building-b-lKGHwq.js";import"./projector-DmVTEmlk.js";import"./clipboard-list-CMM2SLJn.js";import"./timer-CKwyTId6.js";import"./square-check-big-BqCCrkHI.js";import"./index-B_GyHV6l.js";import"./filter-button-C5BxQfOd.js";import"./react-datepicker-CNrS-JzU.js";import"./search-Cz_KF6xL.js";import"./calendar-CgkFkY-D.js";import"./timer-reset-fsukqXkc.js";import"./sliders-horizontal-CDSa6otV.js";import"./input-error-aCAuibxh.js";import"./submit-button-D4bxzCEW.js";import"./textarea-hH4xkfAo.js";import"./user-C4MlcwvE.js";import"./mail-HXspYXJq.js";import"./phone-dOS5Zrd9.js";import"./dollar-sign-Bm2w-Hi4.js";import"./save-9NB0FlW1.js";import"./user-plus-DsESlMzd.js";function te({clientId:n,clientName:r,onDeleteSuccess:c}){const[g,a]=l.useState(!1),p=s=>{s.preventDefault(),a(!0),k.delete(route("client.destroy",n),{preserveScroll:!0,onSuccess:()=>{w.success("Client deleted successfully"),c&&c()},onFinish:()=>a(!1)})};return e.jsxs(D,{children:[e.jsx(T,{asChild:!0,children:e.jsxs(x,{className:"group cursor-pointer",onSelect:s=>{s.preventDefault()},children:[e.jsx(R,{className:"h-4 w-4 text-red-600 group-hover:text-red-700 dark:text-red-400 dark:group-hover:text-red-300"}),e.jsx("span",{className:"text-red-600 dark:text-red-400",children:"Delete"})]})}),e.jsxs(F,{className:"border-neutral-200 bg-white dark:border-neutral-700 dark:bg-neutral-800",children:[e.jsxs(S,{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100",children:["Are you sure you want to delete ",r?`"${r}"`:"this client","?"]}),e.jsx(E,{className:"text-neutral-600 dark:text-neutral-400",children:"Once the client is deleted, all of its data will be permanently removed. This action cannot be undone."}),e.jsx("form",{className:"space-y-6",onSubmit:p,children:e.jsxs(M,{className:"gap-2",children:[e.jsx(O,{asChild:!0,children:e.jsx(d,{variant:"secondary",className:"border-neutral-200 bg-white text-neutral-700 hover:bg-neutral-100 dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-300 dark:hover:bg-neutral-700",children:"Cancel"})}),e.jsx(d,{variant:"destructive",disabled:g,className:"bg-red-600 text-white transition-colors duration-200 hover:bg-red-700 dark:bg-red-700/80 dark:hover:bg-red-700",asChild:!0,children:e.jsx("button",{type:"submit",children:"Delete Client"})})]})})]})]})}const ae=[{title:"Clients",href:"/client"}];function Cr(){const{clients:n,filters:r,currencies:c}=N().props,[g,a]=l.useState(!1),[p,s]=l.useState("create"),[f,m]=l.useState(null),[b,h]=l.useState(!1);return l.useEffect(()=>{try{(new URLSearchParams(window.location.search).get("open")||"").toLowerCase()==="true"&&(s("create"),m(null),a(!0))}catch{}},[]),e.jsxs(P,{breadcrumbs:ae,children:[e.jsx(v,{title:"Clients"}),e.jsxs("div",{className:"mx-auto flex flex-col gap-4 p-4",children:[e.jsxs("section",{className:"mb-2",children:[e.jsx("div",{className:"mb-2 flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-medium tracking-tight text-gray-800 dark:text-gray-100",children:"Client Management"})}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage your clients and their associated projects"})]}),e.jsxs(U,{className:"overflow-hidden bg-white shadow-sm transition-all dark:bg-gray-800",children:[e.jsx(I,{className:"p-4 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Client List"}),e.jsxs(u,{className:"text-sm text-gray-500 dark:text-gray-400",children:["You have ",n.length," clients"]}),(r.search||r["created-date-from"]||r["created-date-to"])&&e.jsx(u,{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:J(r)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(d,{variant:r.search||r["created-date-from"]||r["created-date-to"]?"default":"outline",className:`flex items-center gap-2 ${r.search||r["created-date-from"]||r["created-date-to"]?"border-primary/20 bg-primary/10 text-primary hover:border-primary/30 hover:bg-primary/20 dark:border-primary/30 dark:bg-primary/20 dark:text-primary-foreground dark:hover:bg-primary/30":"text-gray-600 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-800"}`,onClick:()=>h(!0),children:[e.jsx(W,{className:`h-4 w-4 ${r.search||r["created-date-from"]||r["created-date-to"]?"text-primary dark:text-primary-foreground":""}`}),e.jsx("span",{children:r.search||r["created-date-from"]||r["created-date-to"]?"Filters Applied":"Filters"})]}),e.jsx(C,{href:route("client.export")+window.location.search,label:"Export"}),e.jsxs(d,{className:"flex items-center gap-2 bg-gray-900 text-sm hover:bg-gray-800 dark:bg-gray-700 dark:hover:bg-gray-600",onClick:()=>{s("create"),m(null),a(!0)},children:[e.jsx(j,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Client"})]})]})]})}),e.jsx($,{className:"p-0",children:n.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Y,{className:"w-full",children:[e.jsx(q,{children:e.jsxs(z,{children:[e.jsx(i,{className:"dark:bg-gray-750 bg-gray-50 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Name"}),e.jsx(i,{className:"dark:bg-gray-750 bg-gray-50 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Contact Person"}),e.jsx(i,{className:"dark:bg-gray-750 bg-gray-50 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Email"}),e.jsx(i,{className:"dark:bg-gray-750 bg-gray-50 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Phone"}),e.jsx(i,{className:"dark:bg-gray-750 bg-gray-50 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Currency"}),e.jsx(i,{className:"dark:bg-gray-750 bg-gray-50 text-right text-xs font-medium text-gray-500 dark:text-gray-400",children:"Actions"})]})}),e.jsx(V,{children:n.map(t=>e.jsxs(G,{className:"dark:hover:bg-gray-750 border-b border-gray-100 hover:bg-gray-50 dark:border-gray-700",children:[e.jsx(o,{className:"py-3",children:e.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:t.name})}),e.jsx(o,{className:"text-sm text-gray-700 dark:text-gray-300",children:t.contact_person||e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Not specified"})}),e.jsx(o,{className:"text-sm text-gray-700 dark:text-gray-300",children:t.email||e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Not specified"})}),e.jsx(o,{className:"text-sm text-gray-700 dark:text-gray-300",children:t.phone||e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Not specified"})}),e.jsx(o,{className:"text-sm text-gray-700 dark:text-gray-300",children:t.currency||"USD"}),e.jsx(o,{className:"text-right",children:e.jsxs(H,{children:[e.jsx(L,{asChild:!0,children:e.jsx(d,{variant:"ghost",size:"icon",className:"h-8 w-8 p-0 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700",children:e.jsx(X,{className:"h-4 w-4"})})}),e.jsxs(B,{align:"end",className:"w-48",children:[e.jsx(y,{href:route("client.projects",t.id),children:e.jsxs(x,{className:"group cursor-pointer",children:[e.jsx(A,{className:"h-4 w-4 text-gray-500 group-hover:text-gray-700 dark:text-gray-400 dark:group-hover:text-gray-300"}),e.jsx("span",{children:"Projects"})]})}),e.jsx(y,{href:route("client.invoices",t.id),children:e.jsxs(x,{className:"group cursor-pointer",children:[e.jsx(Z,{className:"h-4 w-4 text-gray-500 group-hover:text-gray-700 dark:text-gray-400 dark:group-hover:text-gray-300"}),e.jsx("span",{children:"Invoices"})]})}),e.jsxs(x,{className:"group cursor-pointer",onClick:()=>{s("edit"),m(t),a(!0)},children:[e.jsx(ee,{className:"h-4 w-4 text-gray-500 group-hover:text-gray-700 dark:text-gray-400 dark:group-hover:text-gray-300"}),e.jsx("span",{children:"Edit"})]}),e.jsx(te,{clientId:t.id})]})]})})]},t.id))})]})}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(re,{className:"mb-4 h-12 w-12 text-gray-300 dark:text-gray-600"}),e.jsx("h3",{className:"mb-1 text-lg font-medium text-gray-800 dark:text-gray-200",children:"No Clients"}),e.jsx("p",{className:"mb-4 text-sm text-gray-500 dark:text-gray-400",children:"You haven't added any clients yet."}),e.jsxs(d,{className:"flex items-center gap-2 bg-gray-900 text-sm hover:bg-gray-800 dark:bg-gray-700 dark:hover:bg-gray-600",onClick:()=>{s("create"),m(null),a(!0)},children:[e.jsx(j,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Client"})]})]})})]})]}),e.jsx(Q,{open:g,mode:p,onClose:()=>a(!1),currencies:c,client:f??void 0}),e.jsx(K,{open:b,onOpenChange:h,filters:r})]})}export{Cr as default};
