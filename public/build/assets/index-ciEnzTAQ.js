import{r as d,j as e,b as w,H as T,L as u}from"./app-CE94QcfB.js";import{E as C}from"./action-buttons-DllMgloq.js";import{t as D}from"./index-C5Svuudg.js";import{B as i}from"./button-CSc-Cw7e.js";import{D as M,h as _,a as E,c as S,d as A,g as H,i as F,M as O}from"./master-layout-tsVhh441.js";import{D as h,a as U,b as L,c as B}from"./dropdown-menu-Dy5Hq4rj.js";import{T as R}from"./trash-2-BRVXkUm4.js";import{C as $,a as P,b as I,c as j,d as Y}from"./card-BF0DTRGt.js";import{T as q,a as z,b as V,c as s,d as W,e as G,f as o}from"./table-C7t7xskR.js";import{r as x}from"./utils-DKW5XViW.js";import{getFilterDescription as J}from"./TeamFilters-d6gsSBvS.js";import K from"./TeamFiltersOffCanvas-BjR5KegD.js";import Q from"./TeamMemberOffCanvas-hbK7L1u7.js";import{C as b}from"./clock-CV0oisNo.js";import{F as X}from"./filter-BedxScMf.js";import{U as k}from"./user-plus-Bo41qFMw.js";import{E as Z}from"./ellipsis-vertical-COc6NTvl.js";import{S as ee}from"./square-pen-CaQ0rD2U.js";import{U as re}from"./users-Dah8edja.js";/* empty css            */import"./download-BHzq6k4i.js";import"./createLucideIcon-D9NWueAg.js";import"./index-BC-ip4sp.js";import"./index-Becnjq-x.js";import"./cookie-consent-CR7wTwap.js";import"./index-DkUby8a3.js";import"./index-CSGd7LPk.js";import"./index-gOG35dkf.js";import"./index-OH_msQzS.js";import"./index-DmtIMq0f.js";import"./floating-ui.react-dom-ODH34Sgt.js";import"./index-DwOlKDQm.js";import"./select-D_MCfbK8.js";import"./index-DssjTqXu.js";import"./chevron-up-BMiBX3If.js";import"./TaskController-DRILXs0Z.js";import"./jira-icon-pYe84P2s.js";import"./x-BKkU3iVo.js";import"./loader-circle-D1ym3s0F.js";import"./index-fJEy3cUu.js";import"./sheet-0Ok6l0ab.js";import"./plus-CeOzYAGh.js";import"./appearance-dropdown-CplWtr1N.js";import"./circle-alert-5FNlBjr8.js";import"./checkbox-TCMWq4Ph.js";import"./label-DISzI683.js";import"./badge-Do30HICq.js";import"./chevron-right-BzTA_0kR.js";import"./settings-Bjly2KGq.js";import"./bell-CbXQzXBs.js";import"./app-logo-icon-DHSG1eGj.js";import"./github-CZtBj8bQ.js";import"./log-out-BQwzfcg9.js";import"./building-BzSs3yfb.js";import"./projector-C9mKpjiA.js";import"./clipboard-list-BccoXVyt.js";import"./timer-BE1bBtuS.js";import"./file-text-D51RJe6F.js";import"./square-check-big-B68kPrbC.js";import"./index-C7hwMZoy.js";import"./filter-button-B8qubTbI.js";import"./react-datepicker-Cpw6gAu9.js";import"./search-4eIqUzEe.js";import"./calendar-C8zGel57.js";import"./timer-reset-XwZDwRHv.js";import"./sliders-horizontal-CZJRYnNd.js";import"./input-error-9xWteZf8.js";import"./submit-button-B_eWnsfJ.js";import"./user-BD4_3ZDB.js";import"./mail-3NLULyqe.js";import"./lock-CLZOtBxD.js";import"./dollar-sign-CD5JibCT.js";import"./save-B95-0usG.js";function ae({memberId:l,memberName:a}){const[g,n]=d.useState(!1),p=t=>{t.preventDefault(),n(!0),w.delete(route("team.destroy",l),{preserveScroll:!0,onSuccess:()=>D.success("Team member deleted successfully"),onFinish:()=>n(!1)})};return e.jsxs(M,{children:[e.jsx(_,{asChild:!0,children:e.jsxs(h,{className:"group cursor-pointer",onSelect:t=>{t.preventDefault()},children:[e.jsx(R,{className:"h-4 w-4 text-red-600 group-hover:text-red-700 dark:text-red-400 dark:group-hover:text-red-300"}),e.jsx("span",{className:"text-red-600 dark:text-red-400",children:"Delete"})]})}),e.jsxs(E,{className:"border-neutral-200 bg-white dark:border-neutral-700 dark:bg-neutral-800",children:[e.jsxs(S,{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100",children:["Are you sure you want to delete ",a?`"${a}"`:"this team member","?"]}),e.jsx(A,{className:"text-neutral-600 dark:text-neutral-400",children:"Once the team member is deleted, all of their data will be permanently removed. This action cannot be undone."}),e.jsx("form",{className:"space-y-6",onSubmit:p,children:e.jsxs(H,{className:"gap-2",children:[e.jsx(F,{asChild:!0,children:e.jsx(i,{variant:"secondary",className:"border-neutral-200 bg-white text-neutral-700 hover:bg-neutral-100 dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-300 dark:hover:bg-neutral-700",children:"Cancel"})}),e.jsx(i,{variant:"destructive",disabled:g,className:"bg-red-600 text-white transition-colors duration-200 hover:bg-red-700 dark:bg-red-700/80 dark:hover:bg-red-700",asChild:!0,children:e.jsx("button",{type:"submit",children:"Delete Team Member"})})]})})]})]})}const te=[{title:"Team",href:"/team"}];function vr({teamMembers:l,filters:a,currencies:g,genericEmails:n}){const[p,t]=d.useState(!1),[f,m]=d.useState("create"),[N,c]=d.useState(null),[v,y]=d.useState(!1);return d.useEffect(()=>{try{(new URLSearchParams(window.location.search).get("open")||"").toLowerCase()==="true"&&(m("create"),c(null),t(!0))}catch{}},[]),e.jsxs(O,{breadcrumbs:te,children:[e.jsx(T,{title:"Team"}),e.jsxs("div",{className:"mx-auto flex flex-col gap-4 p-4",children:[e.jsxs("section",{className:"mb-2",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-medium tracking-tight text-gray-800 dark:text-gray-100",children:"Team Management"}),e.jsx(u,{href:route("team.all-time-logs"),children:e.jsxs(i,{variant:"outline",className:"flex items-center gap-2 text-gray-600 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-800",children:[e.jsx(b,{className:"h-4 w-4"}),e.jsx("span",{children:"All Time Logs"})]})})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage your team members and monitor their productivity"})]}),e.jsxs($,{className:"overflow-hidden bg-white shadow-sm transition-all dark:bg-gray-800",children:[e.jsx(P,{className:"p-4 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx(I,{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Team Members"}),e.jsxs(j,{className:"text-sm text-gray-500 dark:text-gray-400",children:["You have ",l.length," team members"]}),(a["start-date"]||a["end-date"]||a.search)&&e.jsx(j,{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:J(a)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(i,{variant:a["start-date"]||a["end-date"]||a.search?"default":"outline",className:`flex items-center gap-2 ${a["start-date"]||a["end-date"]||a.search?"border-primary/20 bg-primary/10 text-primary hover:border-primary/30 hover:bg-primary/20 dark:border-primary/30 dark:bg-primary/20 dark:text-primary-foreground dark:hover:bg-primary/30":"text-gray-600 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-800"}`,onClick:()=>y(!0),children:[e.jsx(X,{className:`h-4 w-4 ${a["start-date"]||a["end-date"]||a.search?"text-primary dark:text-primary-foreground":""}`}),e.jsx("span",{children:a["start-date"]||a["end-date"]||a.search?"Filters Applied":"Filters"})]}),e.jsx(C,{href:route("team.export")+window.location.search,label:"Export"}),e.jsxs(i,{className:"flex items-center gap-2 bg-gray-900 text-sm hover:bg-gray-800 dark:bg-gray-700 dark:hover:bg-gray-600",onClick:()=>{m("create"),c(null),t(!0)},children:[e.jsx(k,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Member"})]})]})]})}),e.jsx(Y,{className:"p-0",children:l.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(q,{className:"w-full",children:[e.jsx(z,{children:e.jsxs(V,{children:[e.jsx(s,{className:"dark:bg-gray-750 bg-gray-50 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Name / Email"}),e.jsx(s,{className:"dark:bg-gray-750 bg-gray-50 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Hourly Rate"}),e.jsx(s,{className:"dark:bg-gray-750 bg-gray-50 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Currency"}),e.jsx(s,{className:"dark:bg-gray-750 bg-gray-50 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Total Hours"}),e.jsx(s,{className:"dark:bg-gray-750 bg-gray-50 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Unpaid Hours"}),e.jsx(s,{className:"dark:bg-gray-750 bg-gray-50 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Unpaid Amount"}),e.jsx(s,{className:"dark:bg-gray-750 bg-gray-50 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Weekly Average"}),e.jsx(s,{className:"dark:bg-gray-750 bg-gray-50 text-right text-xs font-medium text-gray-500 dark:text-gray-400",children:"Actions"})]})}),e.jsx(W,{children:l.map(r=>e.jsxs(G,{className:"dark:hover:bg-gray-750 border-b border-gray-100 hover:bg-gray-50 dark:border-gray-700",children:[e.jsxs(o,{className:"py-3",children:[e.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:r.name}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r.email,r.is_employee?e.jsx("span",{className:"ml-1 inline-flex items-center rounded bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",children:"E"}):e.jsx(e.Fragment,{})]})]}),e.jsx(o,{className:"text-sm text-gray-700 dark:text-gray-300",children:r.non_monetary?"-":r.hourly_rate}),e.jsx(o,{className:"text-sm text-gray-700 dark:text-gray-300",children:r.non_monetary?"-":r.currency}),e.jsx(o,{className:"text-sm text-gray-700 dark:text-gray-300",children:x(r.totalHours)}),e.jsx(o,{className:"text-sm text-gray-700 dark:text-gray-300",children:x(r.unpaidHours)}),e.jsx(o,{className:"text-sm text-gray-700 dark:text-gray-300",children:r.non_monetary?"-":`${r.currency} ${x(r.unpaidAmount)}`}),e.jsx(o,{className:"text-sm text-gray-700 dark:text-gray-300",children:x(r.weeklyAverage)}),e.jsx(o,{className:"text-right",children:e.jsxs(U,{children:[e.jsx(L,{asChild:!0,children:e.jsx(i,{variant:"ghost",size:"icon",className:"h-8 w-8 p-0 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700",children:e.jsx(Z,{className:"h-4 w-4"})})}),e.jsxs(B,{align:"end",className:"w-48",children:[e.jsx(u,{href:route("team.time-logs",r.id),children:e.jsxs(h,{className:"group cursor-pointer",children:[e.jsx(b,{className:"h-4 w-4 text-gray-500 group-hover:text-gray-700 dark:text-gray-400 dark:group-hover:text-gray-300"}),e.jsx("span",{children:"Time Logs"})]})}),e.jsxs(h,{className:"group cursor-pointer",onClick:()=>{m("edit"),c({id:r.id,name:r.name,email:r.email,hourly_rate:r.hourly_rate,currency:r.currency,non_monetary:r.non_monetary,is_employee:r.is_employee??!1}),t(!0)},children:[e.jsx(ee,{className:"h-4 w-4 text-gray-500 group-hover:text-gray-700 dark:text-gray-400 dark:group-hover:text-gray-300"}),e.jsx("span",{children:"Edit"})]}),e.jsx(ae,{memberId:r.id,memberName:r.name})]})]})})]},r.id))})]})}):e.jsx("div",{className:"rounded-md p-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(re,{className:"mb-4 h-12 w-12 text-gray-300 dark:text-gray-600"}),e.jsx("h3",{className:"mb-1 text-lg font-medium text-gray-800 dark:text-gray-200",children:"No Team Members"}),e.jsx("p",{className:"mb-4 text-sm text-gray-500 dark:text-gray-400",children:"You haven't added any team members yet."}),e.jsxs(i,{className:"flex items-center gap-2 bg-gray-900 text-sm hover:bg-gray-800 dark:bg-gray-700 dark:hover:bg-gray-600",onClick:()=>{m("create"),c(null),t(!0)},children:[e.jsx(k,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Team Member"})]})]})})})]})]}),e.jsx(Q,{open:p,mode:f,onClose:()=>t(!1),currencies:g,genericEmails:n,user:N??void 0}),e.jsx(K,{open:v,onOpenChange:y,filters:a})]})}export{vr as default};
