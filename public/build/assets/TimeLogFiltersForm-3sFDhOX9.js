import{u as b,j as e}from"./app-Bk4PR63W.js";import{F as g}from"./filter-button-C5BxQfOd.js";import{D as p,C as x}from"./react-datepicker-CNrS-JzU.js";import{L as i}from"./label-HoiQ3GNm.js";import{S as n}from"./searchable-select-CIlCAQSR.js";import{C}from"./calendar-CgkFkY-D.js";import{C as v,T as k}from"./timer-reset-fsukqXkc.js";import{B as D}from"./briefcase-BMGbk75R.js";import{C as F}from"./circle-check-big-8QtwTSF-.js";import{C as T}from"./circle-alert-BqzIHG1p.js";import{T as $}from"./tag-D4CKyAHb.js";import{S as P}from"./search-Cz_KF6xL.js";var m=(t=>(t.PENDING="pending",t.APPROVED="approved",t.REJECTED="rejected",t))(m||{});const A=[{id:"pending",name:"Pending"},{id:"approved",name:"Approved"},{id:"rejected",name:"Rejected"}];function E({filters:t,projects:c,tags:s,setHasActiveFilters:d}){const{data:a,setData:o,get:u,processing:l}=b({"start-date":t["start-date"]||"","end-date":t["end-date"]||"",project:t.project||"","is-paid":t["is-paid"]||"",status:t.status||"",tag:t.tag||""}),h=a["start-date"]?new Date(a["start-date"]):null,j=a["end-date"]?new Date(a["end-date"]):null,f=r=>{o("start-date",r?r.toISOString().split("T")[0]:"")},y=r=>{o("end-date",r?r.toISOString().split("T")[0]:"")},S=r=>{r.preventDefault(),d&&d(!!(a["start-date"]||a["end-date"]||a.project||a["is-paid"]||a.status||a.tag)),u(route("time-log.index"),{preserveState:!0})},w=!!(a["start-date"]||a["end-date"]||a.project||a["is-paid"]||a.status||a.tag),N=()=>{o({"start-date":"","end-date":"",project:"","is-paid":"",status:"",tag:""})};return e.jsxs("form",{onSubmit:S,className:"flex w-full flex-col gap-6",children:[e.jsxs("div",{className:"flex w-full flex-col gap-2",children:[e.jsx(i,{htmlFor:"start-date",className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Start Date"}),e.jsx(p,{selected:h,onChange:f,dateFormat:"yyyy-MM-dd",isClearable:!0,disabled:l,customInput:e.jsx(x,{id:"start-date",icon:e.jsx(C,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"}),disabled:l,placeholder:"Select start date",className:"border-gray-200 bg-white text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-200"})})]}),e.jsxs("div",{className:"flex w-full flex-col gap-2",children:[e.jsx(i,{htmlFor:"end-date",className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"End Date"}),e.jsx(p,{selected:j,onChange:y,dateFormat:"yyyy-MM-dd",isClearable:!0,disabled:l,customInput:e.jsx(x,{id:"end-date",icon:e.jsx(v,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"}),disabled:l,placeholder:"Select end date",className:"border-gray-200 bg-white text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-200"})})]}),e.jsxs("div",{className:"flex w-full flex-col gap-2",children:[e.jsx(i,{htmlFor:"project",className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Project"}),e.jsx(n,{id:"project",value:a.project,onChange:r=>o("project",r),options:[{id:"",name:"All Projects"},...c],placeholder:"Select project",disabled:l,icon:e.jsx(D,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})})]}),e.jsxs("div",{className:"flex w-full flex-col gap-2",children:[e.jsx(i,{htmlFor:"is-paid",className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Payment Status"}),e.jsx(n,{id:"is-paid",value:a["is-paid"],onChange:r=>o("is-paid",r),options:[{id:"",name:"All Statuses"},{id:"true",name:"Paid"},{id:"false",name:"Unpaid"}],placeholder:"Select status",disabled:l,icon:e.jsx(F,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})})]}),e.jsxs("div",{className:"flex w-full flex-col gap-2",children:[e.jsx(i,{htmlFor:"status",className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Approval Status"}),e.jsx(n,{id:"status",value:a.status,onChange:r=>o("status",r),options:[{id:"",name:"All Statuses"},...A],placeholder:"Approval status",disabled:l,icon:e.jsx(T,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})})]}),e.jsxs("div",{className:"flex w-full flex-col gap-2",children:[e.jsx(i,{htmlFor:"tag",className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Tag"}),e.jsx(n,{id:"tag",value:a.tag,onChange:r=>o("tag",r),options:[{id:"",name:"All Tags"},...s],placeholder:"Select tag",disabled:l,icon:e.jsx($,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})})]}),e.jsxs("div",{className:"mt-2 flex w-full flex-col gap-3 p-1",children:[e.jsxs(g,{title:"Apply filters",disabled:l,className:"w-full justify-center",children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),"Apply Filters"]}),e.jsxs(g,{variant:"clear",disabled:l||!w,onClick:N,title:"Clear filters",className:"w-full justify-center",children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),"Clear Filters"]})]})]})}const I=(t,c)=>{let s="";if(t["start-date"]&&t["end-date"]?s=`Showing logs from ${t["start-date"]} to ${t["end-date"]}`:t["start-date"]?s=`Showing logs from ${t["start-date"]}`:t["end-date"]&&(s=`Showing logs until ${t["end-date"]}`),t.project){const d=c.find(a=>String(a.id)===t.project);d&&(s=s?`${s} for ${d.name}`:`Showing logs for ${d.name}`)}if(t["is-paid"]){const d=t["is-paid"]==="true"?"paid":"unpaid";s=s?`${s} (${d})`:`Showing ${d} logs`}if(t.status){const d=t.status===m.PENDING?"pending":t.status===m.APPROVED?"approved":"rejected";s=s?`${s} with ${d} status`:`Showing logs with ${d} status`}return t.tag&&(s=s?`${s}; Tag filtered`:"Tag filtered"),s},K=Object.freeze(Object.defineProperty({__proto__:null,default:E,getTimeLogFilterDescription:I},Symbol.toStringTag,{value:"Module"}));export{E as T,m as a,K as b};
