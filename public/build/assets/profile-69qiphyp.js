import{c as L,u as I,j as e,H as V,L as $,r as f,b as J}from"./app-CE94QcfB.js";import{t as o}from"./index-C5Svuudg.js";import{I as p}from"./input-error-9xWteZf8.js";import{B as c}from"./button-CSc-Cw7e.js";import{C as S,a as P,b as F,c as _,d as U}from"./card-BF0DTRGt.js";import{M as W,D as Y,a as K,b as Q,c as X,d as Z,g as ee}from"./master-layout-tsVhh441.js";import{L as j,I as b}from"./label-DISzI683.js";import{S as re,a as ae,b as se,c as te,d as le}from"./select-D_MCfbK8.js";import{S as ie}from"./layout-DqS6NWNJ.js";import{c as z}from"./createLucideIcon-D9NWueAg.js";import{U as oe}from"./user-BD4_3ZDB.js";import{M as ne}from"./mail-3NLULyqe.js";import{D as ce}from"./dollar-sign-CD5JibCT.js";import{C as w}from"./circle-check-big-D6zoYCqp.js";import{L as M}from"./loader-circle-D1ym3s0F.js";import{S as de}from"./save-B95-0usG.js";import{C as me}from"./circle-alert-5FNlBjr8.js";import{U as k}from"./upload-B8IdMl_a.js";import{T as pe}from"./trash-2-BRVXkUm4.js";import{z as xe}from"./transition-Zg58peQu.js";/* empty css            */import"./index-BC-ip4sp.js";import"./utils-DKW5XViW.js";import"./index-Becnjq-x.js";import"./cookie-consent-CR7wTwap.js";import"./index-DkUby8a3.js";import"./index-CSGd7LPk.js";import"./index-gOG35dkf.js";import"./index-OH_msQzS.js";import"./index-DmtIMq0f.js";import"./floating-ui.react-dom-ODH34Sgt.js";import"./index-DwOlKDQm.js";import"./TaskController-DRILXs0Z.js";import"./jira-icon-pYe84P2s.js";import"./x-BKkU3iVo.js";import"./index-fJEy3cUu.js";import"./sheet-0Ok6l0ab.js";import"./plus-CeOzYAGh.js";import"./clock-CV0oisNo.js";import"./appearance-dropdown-CplWtr1N.js";import"./dropdown-menu-Dy5Hq4rj.js";import"./index-C7hwMZoy.js";import"./checkbox-TCMWq4Ph.js";import"./index-DssjTqXu.js";import"./badge-Do30HICq.js";import"./chevron-right-BzTA_0kR.js";import"./settings-Bjly2KGq.js";import"./bell-CbXQzXBs.js";import"./users-Dah8edja.js";import"./app-logo-icon-DHSG1eGj.js";import"./github-CZtBj8bQ.js";import"./chevron-up-BMiBX3If.js";import"./log-out-BQwzfcg9.js";import"./building-BzSs3yfb.js";import"./projector-C9mKpjiA.js";import"./clipboard-list-BccoXVyt.js";import"./timer-BE1bBtuS.js";import"./file-text-D51RJe6F.js";import"./square-check-big-B68kPrbC.js";import"./separator-Ypd1NZ1n.js";import"./key-round-BGK9fNrZ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],R=z("CircleUser",ue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ge=z("Image",he);function fe(){var D;const{auth:x}=L().props,a=I({photo:null}),[u,t]=f.useState(null),[h,i]=f.useState(!1),[d,n]=f.useState(!1),l=f.useRef(null);function g(r){if(r.target.files&&r.target.files.length>0){const m=r.target.files[0];a.setData("photo",m);const N=URL.createObjectURL(m);t(N)}}function y(r){r.preventDefault(),r.stopPropagation(),i(!0)}function v(r){r.preventDefault(),r.stopPropagation(),i(!1)}function s(r){r.preventDefault(),r.stopPropagation()}function E(r){if(r.preventDefault(),r.stopPropagation(),i(!1),r.dataTransfer.files&&r.dataTransfer.files.length>0){const m=r.dataTransfer.files[0];if(!m.type.startsWith("image/")){o.error("Please upload an image file");return}a.setData("photo",m);const N=URL.createObjectURL(m);t(N)}}function C(){var r;(r=l.current)==null||r.click()}function T(r){if(r.preventDefault(),!a.data.photo){o.error("Please choose an image file to upload");return}a.post(route("profile.photo.update"),{forceFormData:!0,onSuccess:()=>{o.success("Profile picture updated"),a.reset(),t(null)},onError:()=>{o.error("Failed to update profile picture")},preserveScroll:!0})}function B(){n(!0)}function H(){n(!1)}function G(){J.delete(route("profile.photo.destroy"),{onSuccess:()=>{o.success("Profile picture removed"),t(null),n(!1)},onError:()=>{o.error("Failed to remove profile picture"),n(!1)},preserveScroll:!0})}function A(){a.setData("photo",null),t(null),l.current&&(l.current.value="")}const O=x.user.profile_photo_url||"/images/avatar-placeholder.png",q=u||O;return e.jsxs("div",{className:"space-y-4",children:[e.jsx(Y,{open:d,onOpenChange:n,children:e.jsxs(K,{children:[e.jsxs(Q,{children:[e.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[e.jsx("div",{className:"rounded-full bg-red-100 p-2 dark:bg-red-900/30",children:e.jsx(me,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsx(X,{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Remove profile picture"})]}),e.jsx(Z,{className:"text-sm text-gray-600 dark:text-gray-400",children:"Are you sure you want to remove your profile picture? This action cannot be undone."})]}),e.jsxs(ee,{children:[e.jsx(c,{type:"button",variant:"outline",size:"sm",onClick:H,children:"Cancel"}),e.jsx(c,{type:"button",size:"sm",onClick:G,className:"bg-red-600 text-white hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-600",children:"Remove"})]})]})}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative h-24 w-24 flex-shrink-0",children:[e.jsx("img",{src:q,alt:"Profile",className:"h-full w-full rounded-full border-2 border-gray-200 object-cover shadow-sm dark:border-gray-700"}),u&&e.jsxs("div",{className:"absolute -right-1 -bottom-1 rounded-full bg-gray-900 p-1 text-white dark:bg-white dark:text-gray-900",children:[e.jsx("span",{className:"sr-only",children:"Preview image"}),e.jsx(w,{className:"h-4 w-4"})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Profile photo"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"JPG, PNG or GIF. Maximum size 2MB."}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(c,{type:"button",onClick:C,size:"sm",variant:"outline",className:"flex items-center gap-1.5",children:[e.jsx(k,{className:"h-3.5 w-3.5"}),"Select image"]}),x.user.profile_photo_url&&e.jsxs(c,{type:"button",onClick:B,size:"sm",variant:"outline",className:"flex items-center gap-1.5 text-red-500 hover:bg-red-50 hover:text-red-600 dark:text-red-400 dark:hover:bg-red-950/30 dark:hover:text-red-300",children:[e.jsx(pe,{className:"h-3.5 w-3.5"}),"Remove photo"]})]})]})]}),e.jsxs("form",{onSubmit:T,children:[e.jsx("input",{ref:l,id:"photo",name:"photo",type:"file",accept:"image/*",onChange:g,className:"sr-only"}),e.jsx("div",{className:`mt-4 flex flex-col items-center justify-center rounded-lg border-2 border-dashed p-6 transition-colors ${h?"border-blue-400 bg-blue-50 dark:border-blue-500 dark:bg-blue-950/20":"border-gray-300 dark:border-gray-700"} ${a.data.photo?"bg-gray-50 dark:bg-gray-800/50":""}`,onDragEnter:y,onDragLeave:v,onDragOver:s,onDrop:E,children:a.data.photo?e.jsxs("div",{className:"flex w-full flex-col items-center space-y-3 text-center",children:[e.jsx("div",{className:"rounded-full bg-green-100 p-2 text-green-600 dark:bg-green-900/30 dark:text-green-400",children:e.jsx(ge,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:a.data.photo.name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(a.data.photo.size/1024/1024).toFixed(2)," MB"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{type:"submit",disabled:a.processing,size:"sm",className:"bg-gray-900 text-sm hover:bg-gray-800 dark:bg-gray-700 dark:hover:bg-gray-600",children:a.processing?e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(M,{className:"h-3.5 w-3.5 animate-spin"}),"Uploading..."]}):e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(k,{className:"h-3.5 w-3.5"}),"Upload photo"]})}),e.jsx(c,{type:"button",variant:"outline",size:"sm",onClick:A,children:"Cancel"})]})]}):e.jsxs("div",{className:"flex flex-col items-center space-y-2 text-center",children:[e.jsx("div",{className:"rounded-full bg-gray-100 p-2 text-gray-600 dark:bg-gray-700 dark:text-gray-400",children:e.jsx(k,{className:"h-5 w-5"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Drag and drop an image, or"," ",e.jsx("button",{type:"button",onClick:C,className:"text-blue-600 underline hover:text-blue-700 dark:text-blue-500 dark:hover:text-blue-400",children:"browse"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Supports JPG, PNG and GIF up to 2MB"})]})]})}),((D=a.errors)==null?void 0:D.photo)&&e.jsx(p,{className:"mt-2",message:a.errors.photo})]})]})}const je=[{title:"Profile settings",href:"/settings/profile"}];function Dr({mustVerifyEmail:x,status:a,currencies:u}){const{auth:t,isEmployee:h}=L().props,{data:i,setData:d,patch:n,errors:l,processing:g,recentlySuccessful:y}=I({name:t.user.name,email:t.user.email,hourly_rate:t.user.hourly_rate!==null?String(t.user.hourly_rate):"",currency:t.user.currency?t.user.currency.toString():"USD"}),v=s=>{s.preventDefault(),n(route("profile.update"),{preserveScroll:!0,onSuccess:()=>{o.success("Profile updated successfully")},onError:()=>{o.error("Failed to update profile")}})};return e.jsxs(W,{breadcrumbs:je,children:[e.jsx(V,{title:"Profile settings"}),e.jsx(ie,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(S,{className:"overflow-hidden bg-white shadow-sm transition-all dark:bg-gray-800",children:[e.jsx(P,{className:"border-b border-gray-100 p-4 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-full bg-gray-100 p-2 dark:bg-gray-700",children:e.jsx(R,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})}),e.jsxs("div",{children:[e.jsx(F,{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Profile Picture"}),e.jsx(_,{className:"text-sm text-gray-500 dark:text-gray-400",children:"Upload a profile picture to personalize your account"})]})]})}),e.jsx(U,{className:"p-4",children:e.jsx(fe,{})})]}),e.jsxs(S,{className:"overflow-hidden bg-white shadow-sm transition-all dark:bg-gray-800",children:[e.jsx(P,{className:"border-b border-gray-100 p-4 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-full bg-gray-100 p-2 dark:bg-gray-700",children:e.jsx(R,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})}),e.jsxs("div",{children:[e.jsx(F,{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Personal Information"}),e.jsx(_,{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage your profile details and preferences"})]})]})}),e.jsx(U,{className:"p-4",children:e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsx(j,{htmlFor:"name",className:"text-sm font-medium",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-3 flex items-center",children:e.jsx(oe,{className:"h-4 w-4 text-muted-foreground"})}),e.jsx(b,{id:"name",className:"pl-10",value:i.name,onChange:s=>d("name",s.target.value),required:!0,autoComplete:"name",placeholder:"Full name"})]}),e.jsx(p,{className:"mt-1",message:l.name})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(j,{htmlFor:"email",className:"text-sm font-medium",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-3 flex items-center",children:e.jsx(ne,{className:"h-4 w-4 text-muted-foreground"})}),e.jsx(b,{id:"email",type:"email",className:"pl-10",value:i.email,onChange:s=>d("email",s.target.value),required:!0,autoComplete:"username",placeholder:"Email address"})]}),e.jsx(p,{className:"mt-1",message:l.email})]}),!h&&e.jsxs("div",{className:"mt-1 grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsx(j,{htmlFor:"hourly_rate",className:"text-sm font-medium",children:"Hourly Rate"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-3 flex items-center",children:e.jsx(ce,{className:"h-4 w-4 text-muted-foreground"})}),e.jsx(b,{id:"hourly_rate",type:"number",step:"0.01",min:"0",className:"pl-10",value:i.hourly_rate,onChange:s=>d("hourly_rate",s.target.value),required:!h,placeholder:"Hourly rate"})]}),e.jsx(p,{className:"mt-1",message:l.hourly_rate})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(j,{htmlFor:"currency",className:"text-sm font-medium",children:"Currency"}),e.jsxs(re,{value:i.currency,onValueChange:s=>d("currency",s),children:[e.jsx(ae,{id:"currency",children:e.jsx(se,{placeholder:"Select currency"})}),e.jsx(te,{children:u.map(s=>e.jsx(le,{value:s,children:s},s))})]}),e.jsx(p,{className:"mt-1",message:l.currency})]})]}),x&&t.user.email_verified_at===null&&e.jsxs("div",{className:"mt-2 rounded-md bg-amber-50 p-4 dark:bg-amber-900/20",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-200",children:["Your email address is unverified."," ",e.jsx($,{href:route("verification.send"),method:"post",as:"button",className:"font-medium text-amber-700 underline hover:text-amber-600 dark:text-amber-200 dark:hover:text-amber-100",children:"Click here to resend the verification email."})]})})]}),a==="verification-link-sent"&&e.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm font-medium text-green-600 dark:text-green-400",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsx("span",{children:"A new verification link has been sent to your email address."})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4 pt-2",children:[e.jsx(c,{disabled:g,className:"flex items-center gap-2 bg-gray-900 text-sm hover:bg-gray-800 dark:bg-gray-700 dark:hover:bg-gray-600",children:g?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Saving..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx("span",{children:"Save Changes"})]})}),e.jsx(xe,{show:y,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600 dark:text-green-400",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsx("span",{children:"Saved successfully"})]})})]})]})})]})]})})]})}export{Dr as default};
