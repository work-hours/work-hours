import{u as k,r as w,j as e}from"./app-Bk4PR63W.js";import{I as d}from"./input-error-aCAuibxh.js";import{S as C}from"./submit-button-D4bxzCEW.js";import{B as S}from"./button-BGAiRGZg.js";import{L as o,I as c}from"./label-HoiQ3GNm.js";import{S as _,a as I,b as F,c as E,d as U}from"./select-BTxuEGZI.js";import{S as D,a as B,b as L,c as P,d as A}from"./sheet-D7dB8w4W.js";import{T as y}from"./textarea-hH4xkfAo.js";import{t as x}from"./index-D-Gk-yT4.js";import{B as g}from"./building-b-lKGHwq.js";import{U as M}from"./user-C4MlcwvE.js";import{M as T}from"./mail-HXspYXJq.js";import{P as q}from"./phone-dOS5Zrd9.js";import{c as H}from"./createLucideIcon-CdLL0xzd.js";import{D as O}from"./dollar-sign-Bm2w-Hi4.js";import{L as R}from"./loader-circle-BCYeDwOj.js";import{S as V}from"./save-9NB0FlW1.js";import{U as z}from"./user-plus-DsESlMzd.js";/* empty css            */import"./utils-DKW5XViW.js";import"./index-DDqfYr5D.js";import"./index-BsY2LpXN.js";import"./index-D-w6wlEG.js";import"./index-Dely6azp.js";import"./index-C79L9l-a.js";import"./floating-ui.react-dom-8ikc8Qbx.js";import"./index-DiDFMmY4.js";import"./index-BJl2vPHw.js";import"./index-CPvS59-d.js";import"./chevron-up-F-D43jrY.js";import"./index-DDNv-7cB.js";import"./index-D5x193o-.js";import"./x-Dz3a5Yj_.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],G=H("MapPin",J);function Se({open:h,mode:p,onClose:m,currencies:u,client:r}){var b;const t=p==="edit",{data:n,setData:l,post:v,put:j,processing:s,errors:i,reset:f}=k({name:t&&r?r.name:"",email:t&&r&&r.email||"",contact_person:t&&r&&r.contact_person||"",phone:t&&r&&r.phone||"",address:t&&r&&r.address||"",notes:t&&r&&r.notes||"",hourly_rate:t&&r&&r.hourly_rate!==null?String(r.hourly_rate):"",currency:t&&r&&r.currency?r.currency:((b=u[0])==null?void 0:b.code)??"USD"});w.useEffect(()=>{var a;if(!h){f();return}l({name:t&&r?r.name:"",email:t&&r&&r.email||"",contact_person:t&&r&&r.contact_person||"",phone:t&&r&&r.phone||"",address:t&&r&&r.address||"",notes:t&&r&&r.notes||"",hourly_rate:t&&r&&r.hourly_rate!==null?String(r.hourly_rate):"",currency:t&&r&&r.currency?r.currency:((a=u[0])==null?void 0:a.code)??"USD"})},[h,p,r]);const N=a=>{a.preventDefault(),t&&r?j(route("client.update",r.id),{onSuccess:()=>{x.success("Client updated successfully"),window.dispatchEvent(new Event("refresh-clients")),m()},onError:()=>x.error("Failed to update client"),preserveScroll:!0}):v(route("client.store"),{onSuccess:()=>{x.success("Client created successfully"),window.dispatchEvent(new Event("refresh-clients")),m(),f()},onError:()=>x.error("Failed to create client"),preserveScroll:!0})};return e.jsx(D,{open:h,onOpenChange:a=>!a&&m(),children:e.jsxs(B,{side:"right",className:"overflow-y-auto bg-white pr-6 pb-8 pl-6 sm:max-w-md md:max-w-lg dark:bg-neutral-900",children:[e.jsxs(L,{className:"",children:[e.jsx(P,{className:"flex items-center gap-2 text-xl text-neutral-900 dark:text-white",children:t?e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"h-5 w-5 text-neutral-700 dark:text-neutral-300"})," Edit Client"]}):e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"h-5 w-5 text-neutral-700 dark:text-neutral-300"})," Add Client"]})}),e.jsx(A,{className:"text-sm text-neutral-500 dark:text-neutral-400",children:t?"Update the client details":"Create a new client"})]}),e.jsx("div",{children:e.jsx("form",{className:"flex flex-col gap-8",onSubmit:N,children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsx("h3",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"name",className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Client Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-3 flex items-center",children:e.jsx(g,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})}),e.jsx(c,{id:"name",type:"text",required:!0,autoFocus:!0,tabIndex:1,value:n.name,onChange:a=>l("name",a.target.value),disabled:s,placeholder:"Acme Inc.",className:"border-neutral-200 bg-white pl-10 ring-offset-white focus-visible:ring-neutral-400 dark:border-neutral-800 dark:bg-neutral-800/50 dark:ring-offset-neutral-900 dark:focus-visible:ring-neutral-600"})]}),e.jsx(d,{message:i.name,className:"mt-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"contact_person",className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Contact Person"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-3 flex items-center",children:e.jsx(M,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})}),e.jsx(c,{id:"contact_person",type:"text",tabIndex:2,value:n.contact_person,onChange:a=>l("contact_person",a.target.value),disabled:s,placeholder:"John Doe",className:"border-neutral-200 bg-white pl-10 ring-offset-white focus-visible:ring-neutral-400 dark:border-neutral-800 dark:bg-neutral-800/50 dark:ring-offset-neutral-900 dark:focus-visible:ring-neutral-600"})]}),e.jsx(d,{message:i.contact_person})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"email",className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-3 flex items-center",children:e.jsx(T,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})}),e.jsx(c,{id:"email",type:"email",tabIndex:3,value:n.email,onChange:a=>l("email",a.target.value),disabled:s,placeholder:"client@example.com",className:"border-neutral-200 bg-white pl-10 ring-offset-white focus-visible:ring-neutral-400 dark:border-neutral-800 dark:bg-neutral-800/50 dark:ring-offset-neutral-900 dark:focus-visible:ring-neutral-600"})]}),e.jsx(d,{message:i.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"phone",className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Phone"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-3 flex items-center",children:e.jsx(q,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})}),e.jsx(c,{id:"phone",type:"text",tabIndex:4,value:n.phone,onChange:a=>l("phone",a.target.value),disabled:s,placeholder:"+1 555 555 5555",className:"border-neutral-200 bg-white pl-10 ring-offset-white focus-visible:ring-neutral-400 dark:border-neutral-800 dark:bg-neutral-800/50 dark:ring-offset-neutral-900 dark:focus-visible:ring-neutral-600"})]}),e.jsx(d,{message:i.phone})]})]})]}),e.jsxs("div",{className:"space-y-5 pt-2",children:[e.jsx("h3",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Additional Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"address",className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(G,{className:"h-3.5 w-3.5 text-gray-400 dark:text-gray-500"}),e.jsx("span",{children:"Address"})]})}),e.jsx(y,{id:"address",value:n.address,onChange:a=>l("address",a.target.value),disabled:s,placeholder:"Street, City, Country",className:"min-h-20 border-neutral-200 bg-white ring-offset-white focus-visible:ring-neutral-400 dark:border-neutral-800 dark:bg-neutral-800/50 dark:ring-offset-neutral-900 dark:focus-visible:ring-neutral-600"}),e.jsx(d,{message:i.address})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"notes",className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Notes"}),e.jsx(y,{id:"notes",value:n.notes,onChange:a=>l("notes",a.target.value),disabled:s,placeholder:"Additional information",className:"min-h-20 border-neutral-200 bg-white ring-offset-white focus-visible:ring-neutral-400 dark:border-neutral-800 dark:bg-neutral-800/50 dark:ring-offset-neutral-900 dark:focus-visible:ring-neutral-600"}),e.jsx(d,{message:i.notes})]})]}),e.jsxs("div",{className:"space-y-5 pt-2",children:[e.jsx("h3",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Billing Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"hourly_rate",className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Hourly Rate"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-3 flex items-center",children:e.jsx(O,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})}),e.jsx(c,{id:"hourly_rate",type:"number",min:"0",step:"0.01",tabIndex:5,value:n.hourly_rate,onChange:a=>l("hourly_rate",a.target.value),disabled:s,placeholder:"0.00",className:"border-neutral-200 bg-white pl-10 ring-offset-white focus-visible:ring-neutral-400 dark:border-neutral-800 dark:bg-neutral-800/50 dark:ring-offset-neutral-900 dark:focus-visible:ring-neutral-600"})]}),e.jsx(d,{message:i.hourly_rate})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"currency",className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Currency"}),e.jsxs(_,{value:n.currency,onValueChange:a=>l("currency",a),disabled:s||u.length===0,children:[e.jsx(I,{id:"currency",className:"border-neutral-200 bg-white ring-offset-white focus:ring-neutral-400 dark:border-neutral-800 dark:bg-neutral-800/50 dark:ring-offset-neutral-900 dark:focus:ring-neutral-600",children:e.jsx(F,{placeholder:"Select a currency"})}),e.jsx(E,{className:"border-neutral-200 bg-white dark:border-neutral-800 dark:bg-neutral-800/50",children:u.map(a=>e.jsx(U,{value:a.code,children:a.code},a.id))})]}),e.jsx(d,{message:i.currency})]})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3 border-t border-neutral-200 pt-6 dark:border-neutral-800",children:[e.jsx(S,{type:"button",variant:"outline",onClick:m,disabled:s,className:"border-neutral-200 hover:bg-neutral-100 hover:text-neutral-900 dark:border-neutral-800 dark:hover:bg-neutral-800 dark:hover:text-neutral-100",children:"Cancel"}),e.jsx(C,{loading:s,idleLabel:t?"Update Client":"Create Client",loadingLabel:t?"Updating...":"Creating...",idleIcon:t?e.jsx(V,{className:"h-4 w-4"}):e.jsx(z,{className:"h-4 w-4"}),loadingIcon:e.jsx(R,{className:"h-4 w-4 animate-spin"}),className:"bg-gray-900 text-white hover:bg-gray-800 dark:bg-gray-700 dark:hover:bg-gray-600"})]})]})})})]})})}export{Se as default};
