import{u as w,j as e}from"./app-Bk4PR63W.js";import{F as m}from"./filter-button-C5BxQfOd.js";import{C}from"./checkbox-DLdSU6vz.js";import{D as n,C as x}from"./react-datepicker-CNrS-JzU.js";import{L as d,I as v}from"./label-HoiQ3GNm.js";import{S as c}from"./searchable-select-CIlCAQSR.js";import{S as u}from"./search-Cz_KF6xL.js";import{C as S}from"./circle-alert-BqzIHG1p.js";import{c as F}from"./createLucideIcon-CdLL0xzd.js";import{B as T}from"./briefcase-BMGbk75R.js";import{T as D}from"./tag-D4CKyAHb.js";import{C as $}from"./calendar-CgkFkY-D.js";import{C as P,T as I}from"./timer-reset-fsukqXkc.js";/* empty css            */import"./button-BGAiRGZg.js";import"./index-DDqfYr5D.js";import"./utils-DKW5XViW.js";import"./index-Dely6azp.js";import"./index-CPvS59-d.js";import"./index-BJl2vPHw.js";import"./index-D5x193o-.js";import"./index-BsY2LpXN.js";import"./index-D-w6wlEG.js";import"./floating-ui.react-dom-8ikc8Qbx.js";import"./select-BTxuEGZI.js";import"./index-C79L9l-a.js";import"./index-DiDFMmY4.js";import"./chevron-up-F-D43jrY.js";import"./users-DZUcVCZB.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],M=F("Flag",B);function me({filters:a,projects:r,tags:i}){const{data:t,setData:o,get:p,processing:l}=w({status:a.status??"all",priority:a.priority??"all",project:a.project??"all",tag:a.tag??"all","due-date-from":a["due-date-from"]||"","due-date-to":a["due-date-to"]||"","due-today":!!a["due-today"],search:a.search||""}),y=t["due-date-from"]?new Date(t["due-date-from"]):null,h=t["due-date-to"]?new Date(t["due-date-to"]):null,f=s=>{o("due-date-from",s?s.toISOString().split("T")[0]:"")},j=s=>{o("due-date-to",s?s.toISOString().split("T")[0]:"")},k=s=>{s.preventDefault(),p(route("task.index"),{preserveState:!0})},N=()=>{o({status:"all",priority:"all",project:"all",tag:"all","due-date-from":"","due-date-to":"","due-today":!1,search:""})},b=!!(t.search||t.status&&t.status!=="incomplete"&&t.status!=="all"||t.priority&&t.priority!=="all"||t.project&&t.project!=="all"||t.tag&&t.tag!=="all"||t["due-date-from"]||t["due-date-to"]||t["due-today"]);return e.jsxs("form",{onSubmit:k,className:"flex w-full flex-col gap-6",children:[e.jsxs("div",{className:"flex w-full flex-col gap-2",children:[e.jsx(d,{htmlFor:"search",className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{id:"search",type:"text",value:t.search,onChange:s=>o("search",s.target.value),placeholder:"Search tasks...",className:"border-gray-200 bg-white pl-9 text-gray-800 placeholder:text-gray-400 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-200 dark:placeholder:text-gray-500"}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-3 flex items-center",children:e.jsx(u,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})})]})]}),e.jsxs("div",{className:"flex w-full flex-col gap-2",children:[e.jsx(d,{htmlFor:"status",className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Status"}),e.jsx(c,{id:"status",value:t.status,onChange:s=>o("status",s),options:[{id:"all",name:"Statuses"},{id:"incomplete",name:"Incomplete"},{id:"pending",name:"Pending"},{id:"in_progress",name:"In Progress"},{id:"completed",name:"Completed"}],placeholder:"Statuses",disabled:l,icon:e.jsx(S,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})})]}),e.jsxs("div",{className:"flex w-full flex-col gap-2",children:[e.jsx(d,{htmlFor:"priority",className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Priority"}),e.jsx(c,{id:"priority",value:t.priority,onChange:s=>o("priority",s),options:[{id:"all",name:"Priorities"},{id:"low",name:"Low"},{id:"medium",name:"Medium"},{id:"high",name:"High"}],placeholder:"Priorities",disabled:l,icon:e.jsx(M,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})})]}),e.jsxs("div",{className:"flex w-full flex-col gap-2",children:[e.jsx(d,{htmlFor:"project",className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Project"}),e.jsx(c,{id:"project",value:String(t.project),onChange:s=>o("project",s),options:[{id:"all",name:"Projects"},...r],placeholder:"Projects",disabled:l,icon:e.jsx(T,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})})]}),e.jsxs("div",{className:"flex w-full flex-col gap-2",children:[e.jsx(d,{htmlFor:"tag",className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Tag"}),e.jsx(c,{id:"tag",value:String(t.tag),onChange:s=>o("tag",s),options:[{id:"all",name:"Tags"},...i],placeholder:"Tags",disabled:l,icon:e.jsx(D,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})})]}),e.jsxs("div",{className:"flex w-full flex-col gap-2",children:[e.jsx(d,{htmlFor:"due-date-from",className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Due From"}),e.jsx(n,{selected:y,onChange:f,dateFormat:"yyyy-MM-dd",isClearable:!0,disabled:l,customInput:e.jsx(x,{id:"due-date-from",icon:e.jsx($,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"}),disabled:l,placeholder:"Select start date",className:"border-gray-200 bg-white text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-200"})})]}),e.jsxs("div",{className:"flex w-full flex-col gap-2",children:[e.jsx(d,{htmlFor:"due-date-to",className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Due To"}),e.jsx(n,{selected:h,onChange:j,dateFormat:"yyyy-MM-dd",isClearable:!0,disabled:l,customInput:e.jsx(x,{id:"due-date-to",icon:e.jsx(P,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"}),disabled:l,placeholder:"Select end date",className:"border-gray-200 bg-white text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-200"})})]}),e.jsx("div",{className:"flex w-full flex-col gap-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{id:"due-today",checked:!!t["due-today"],onCheckedChange:s=>o("due-today",s===!0)}),e.jsx(d,{htmlFor:"due-today",className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Due Today"})]})}),e.jsxs("div",{className:"mt-2 flex w-full flex-col gap-3 p-1",children:[e.jsxs(m,{title:"Apply filters",disabled:l,className:"w-full justify-center",children:[e.jsx(u,{className:"mr-2 h-4 w-4"}),"Apply Filters"]}),e.jsxs(m,{variant:"clear",disabled:l||!b,onClick:N,title:"Clear filters",className:"w-full justify-center",children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),"Clear Filters"]})]})]})}const ne=a=>{let r="";const i=g(a["due-date-from"]),t=g(a["due-date-to"]);return i&&t?r=`Due ${i} to ${t}`:i?r=`Due from ${i}`:t&&(r=`Due until ${t}`),a["due-today"]&&(r=r?`${r}; Due Today`:"Due Today"),a.project&&a.project!=="all"&&(r=r?`${r}; Project filtered`:"Project filtered"),a.tag&&a.tag!=="all"&&(r=r?`${r}; Tag filtered`:"Tag filtered"),a.priority&&a.priority!=="all"&&(r=r?`${r}; Priority ${a.priority}`:`Priority ${a.priority}`),a.status&&a.status!=="all"&&(r=r?`${r}; Status ${a.status.replace("_"," ")}`:`Status ${a.status.replace("_"," ")}`),a.search&&(r=r?`${r}; search "${a.search}"`:`Search "${a.search}"`),r},g=a=>a?typeof a=="string"?a:a.toISOString().split("T")[0]:"";export{me as default,ne as getTaskFilterDescription};
