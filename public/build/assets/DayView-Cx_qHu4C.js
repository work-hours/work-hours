import{j as e}from"./app-CE94QcfB.js";import{p as a,i as c}from"./parseISO-DbJI0UL_.js";import{f as o}from"./format-DaJbwain.js";import{C as m}from"./clock-CV0oisNo.js";import{C as v}from"./chevron-right-BzTA_0kR.js";import{C as k}from"./calendar-C8zGel57.js";/* empty css            */import"./createLucideIcon-D9NWueAg.js";function F({timeLogs:l,date:x,onTimeLogClick:h}){const i=a(x),n=l.filter(t=>{const s=a(t.start);return c(s,i)}),u=Array.from({length:24},(t,s)=>s),y=t=>n.filter(s=>a(s.start).getHours()===t),p=t=>{const s=a(t.start),r=a(t.end),d=s.getMinutes(),f=s.getHours(),N=r.getMinutes(),b=(r.getHours()-f)*60+(N-d);return{top:`${d}px`,height:`${Math.min(b,60)}px`}},j=n.reduce((t,s)=>t+s.duration,0),g=n.reduce((t,s)=>{const r=s.project.id.toString();return t[r]||(t[r]={duration:0,color:s.project.color,name:s.project.name}),t[r].duration+=s.duration,t},{});return e.jsxs("div",{className:"rounded-lg bg-white shadow dark:bg-gray-800",children:[e.jsxs("div",{className:"border-b p-4 dark:border-gray-700",children:[e.jsx("h2",{className:"text-center text-xl font-semibold text-gray-800 dark:text-gray-200",children:o(i,"EEEE, MMMM d, yyyy")}),n.length>0&&e.jsxs("div",{className:"dark:bg-gray-750 mt-3 rounded-md bg-gray-50 p-3",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Day Summary"}),e.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(m,{className:"mr-1.5 h-4 w-4"}),j.toFixed(1)," hours"]})]}),e.jsx("div",{className:"space-y-2",children:Object.entries(g).map(([t,{name:s,color:r,duration:d}])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-2 h-3 w-3 rounded-full",style:{backgroundColor:r}}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:s})]}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.toFixed(1),"h"]})]},t))})]})]}),e.jsx("div",{className:"relative",children:n.length===0?e.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"No time logs recorded for this day"}):e.jsxs(e.Fragment,{children:[u.map(t=>{const s=y(t);return e.jsxs("div",{className:"flex border-b dark:border-gray-700",children:[e.jsx("div",{className:"flex w-24 flex-shrink-0 items-center justify-center border-r p-2 text-center dark:border-gray-700",children:e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:t===0?"12 AM":t<12?`${t} AM`:t===12?"12 PM":`${t-12} PM`})}),e.jsxs("div",{className:"relative min-h-[60px] flex-1",children:[e.jsx("div",{className:"absolute top-1/2 right-0 left-0 border-t border-dashed border-gray-200 dark:border-gray-700"}),s.map((r,d)=>e.jsxs("div",{className:"border-opacity-20 group absolute cursor-pointer overflow-hidden rounded-md border p-3 shadow-sm transition hover:z-10 hover:shadow-md",style:{...p(r),left:`${d*25}%`,width:"75%",backgroundColor:r.project.color+"15",borderColor:r.project.color,borderLeftWidth:"4px"},onClick:()=>h(r.id),children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:r.project.name}),e.jsx(v,{className:"h-4 w-4 text-gray-400 opacity-0 transition-opacity group-hover:opacity-100"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(m,{className:"mr-1.5 h-3.5 w-3.5"}),o(a(r.start),"HH:mm")," - ",o(a(r.end),"HH:mm"),e.jsx("span",{className:"mx-1",children:"Â·"}),r.duration,"h"]}),r.task&&e.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(k,{className:"mr-1.5 h-3.5 w-3.5"}),r.task.title]}),r.note&&e.jsx("div",{className:"mt-1 line-clamp-1 text-xs text-gray-500 dark:text-gray-400",children:r.note})]},r.id))]})]},t)}),c(i,new Date)&&e.jsxs("div",{className:"pointer-events-none absolute right-0 left-0 z-10",style:{top:`${new Date().getHours()*60+new Date().getMinutes()+60}px`},children:[e.jsx("div",{className:"h-0.5 w-full bg-red-500"}),e.jsx("div",{className:"absolute -top-1.5 -left-1.5 h-3 w-3 rounded-full bg-red-500"})]})]})})]})}export{F as default};
