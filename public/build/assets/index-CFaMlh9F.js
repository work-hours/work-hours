import{r as l,j as e,b as k,c as N,H as v,L as y}from"./app-CE94QcfB.js";import{E as C}from"./action-buttons-DllMgloq.js";import{t as w}from"./index-C5Svuudg.js";import{B as d}from"./button-CSc-Cw7e.js";import{D,h as T,a as F,c as S,d as E,g as M,i as O,M as P,F as A}from"./master-layout-tsVhh441.js";import{D as x,a as H,b as L,c as B}from"./dropdown-menu-Dy5Hq4rj.js";import{T as R}from"./trash-2-BRVXkUm4.js";import{C as U,a as I,b as _,c as u,d as $}from"./card-BF0DTRGt.js";import{T as Y,a as q,b as z,c as i,d as V,e as G,f as o}from"./table-C7t7xskR.js";import{getClientFilterDescription as J}from"./ClientFilters-CGRR7HQu.js";import K from"./ClientFiltersOffCanvas-KYLeorGq.js";import Q from"./ClientOffCanvas-Dj4jmD8a.js";import{F as W}from"./filter-BedxScMf.js";import{P as j}from"./plus-CeOzYAGh.js";import{E as X}from"./ellipsis-vertical-COc6NTvl.js";import{F as Z}from"./file-text-D51RJe6F.js";import{S as ee}from"./square-pen-CaQ0rD2U.js";import{U as re}from"./users-Dah8edja.js";/* empty css            */import"./download-BHzq6k4i.js";import"./createLucideIcon-D9NWueAg.js";import"./index-BC-ip4sp.js";import"./index-Becnjq-x.js";import"./utils-DKW5XViW.js";import"./cookie-consent-CR7wTwap.js";import"./index-DkUby8a3.js";import"./index-CSGd7LPk.js";import"./index-gOG35dkf.js";import"./index-OH_msQzS.js";import"./index-DmtIMq0f.js";import"./floating-ui.react-dom-ODH34Sgt.js";import"./index-DwOlKDQm.js";import"./select-D_MCfbK8.js";import"./index-DssjTqXu.js";import"./chevron-up-BMiBX3If.js";import"./TaskController-DRILXs0Z.js";import"./jira-icon-pYe84P2s.js";import"./x-BKkU3iVo.js";import"./loader-circle-D1ym3s0F.js";import"./index-fJEy3cUu.js";import"./sheet-0Ok6l0ab.js";import"./clock-CV0oisNo.js";import"./appearance-dropdown-CplWtr1N.js";import"./circle-alert-5FNlBjr8.js";import"./checkbox-TCMWq4Ph.js";import"./label-DISzI683.js";import"./badge-Do30HICq.js";import"./chevron-right-BzTA_0kR.js";import"./settings-Bjly2KGq.js";import"./bell-CbXQzXBs.js";import"./app-logo-icon-DHSG1eGj.js";import"./github-CZtBj8bQ.js";import"./log-out-BQwzfcg9.js";import"./building-BzSs3yfb.js";import"./projector-C9mKpjiA.js";import"./clipboard-list-BccoXVyt.js";import"./timer-BE1bBtuS.js";import"./square-check-big-B68kPrbC.js";import"./index-C7hwMZoy.js";import"./filter-button-B8qubTbI.js";import"./react-datepicker-Cpw6gAu9.js";import"./search-4eIqUzEe.js";import"./calendar-C8zGel57.js";import"./timer-reset-XwZDwRHv.js";import"./sliders-horizontal-CZJRYnNd.js";import"./input-error-9xWteZf8.js";import"./submit-button-B_eWnsfJ.js";import"./textarea-49cOPKwt.js";import"./user-BD4_3ZDB.js";import"./mail-3NLULyqe.js";import"./phone-BxeJwtR2.js";import"./dollar-sign-CD5JibCT.js";import"./save-B95-0usG.js";import"./user-plus-Bo41qFMw.js";function te({clientId:n,clientName:r,onDeleteSuccess:c}){const[g,a]=l.useState(!1),p=s=>{s.preventDefault(),a(!0),k.delete(route("client.destroy",n),{preserveScroll:!0,onSuccess:()=>{w.success("Client deleted successfully"),c&&c()},onFinish:()=>a(!1)})};return e.jsxs(D,{children:[e.jsx(T,{asChild:!0,children:e.jsxs(x,{className:"group cursor-pointer",onSelect:s=>{s.preventDefault()},children:[e.jsx(R,{className:"h-4 w-4 text-red-600 group-hover:text-red-700 dark:text-red-400 dark:group-hover:text-red-300"}),e.jsx("span",{className:"text-red-600 dark:text-red-400",children:"Delete"})]})}),e.jsxs(F,{className:"border-neutral-200 bg-white dark:border-neutral-700 dark:bg-neutral-800",children:[e.jsxs(S,{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100",children:["Are you sure you want to delete ",r?`"${r}"`:"this client","?"]}),e.jsx(E,{className:"text-neutral-600 dark:text-neutral-400",children:"Once the client is deleted, all of its data will be permanently removed. This action cannot be undone."}),e.jsx("form",{className:"space-y-6",onSubmit:p,children:e.jsxs(M,{className:"gap-2",children:[e.jsx(O,{asChild:!0,children:e.jsx(d,{variant:"secondary",className:"border-neutral-200 bg-white text-neutral-700 hover:bg-neutral-100 dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-300 dark:hover:bg-neutral-700",children:"Cancel"})}),e.jsx(d,{variant:"destructive",disabled:g,className:"bg-red-600 text-white transition-colors duration-200 hover:bg-red-700 dark:bg-red-700/80 dark:hover:bg-red-700",asChild:!0,children:e.jsx("button",{type:"submit",children:"Delete Client"})})]})})]})]})}const ae=[{title:"Clients",href:"/client"}];function Cr(){const{clients:n,filters:r,currencies:c}=N().props,[g,a]=l.useState(!1),[p,s]=l.useState("create"),[f,m]=l.useState(null),[b,h]=l.useState(!1);return l.useEffect(()=>{try{(new URLSearchParams(window.location.search).get("open")||"").toLowerCase()==="true"&&(s("create"),m(null),a(!0))}catch{}},[]),e.jsxs(P,{breadcrumbs:ae,children:[e.jsx(v,{title:"Clients"}),e.jsxs("div",{className:"mx-auto flex flex-col gap-4 p-4",children:[e.jsxs("section",{className:"mb-2",children:[e.jsx("div",{className:"mb-2 flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-medium tracking-tight text-gray-800 dark:text-gray-100",children:"Client Management"})}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage your clients and their associated projects"})]}),e.jsxs(U,{className:"overflow-hidden bg-white shadow-sm transition-all dark:bg-gray-800",children:[e.jsx(I,{className:"p-4 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Client List"}),e.jsxs(u,{className:"text-sm text-gray-500 dark:text-gray-400",children:["You have ",n.length," clients"]}),(r.search||r["created-date-from"]||r["created-date-to"])&&e.jsx(u,{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:J(r)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(d,{variant:r.search||r["created-date-from"]||r["created-date-to"]?"default":"outline",className:`flex items-center gap-2 ${r.search||r["created-date-from"]||r["created-date-to"]?"border-primary/20 bg-primary/10 text-primary hover:border-primary/30 hover:bg-primary/20 dark:border-primary/30 dark:bg-primary/20 dark:text-primary-foreground dark:hover:bg-primary/30":"text-gray-600 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-800"}`,onClick:()=>h(!0),children:[e.jsx(W,{className:`h-4 w-4 ${r.search||r["created-date-from"]||r["created-date-to"]?"text-primary dark:text-primary-foreground":""}`}),e.jsx("span",{children:r.search||r["created-date-from"]||r["created-date-to"]?"Filters Applied":"Filters"})]}),e.jsx(C,{href:route("client.export")+window.location.search,label:"Export"}),e.jsxs(d,{className:"flex items-center gap-2 bg-gray-900 text-sm hover:bg-gray-800 dark:bg-gray-700 dark:hover:bg-gray-600",onClick:()=>{s("create"),m(null),a(!0)},children:[e.jsx(j,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Client"})]})]})]})}),e.jsx($,{className:"p-0",children:n.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Y,{className:"w-full",children:[e.jsx(q,{children:e.jsxs(z,{children:[e.jsx(i,{className:"dark:bg-gray-750 bg-gray-50 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Name"}),e.jsx(i,{className:"dark:bg-gray-750 bg-gray-50 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Contact Person"}),e.jsx(i,{className:"dark:bg-gray-750 bg-gray-50 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Email"}),e.jsx(i,{className:"dark:bg-gray-750 bg-gray-50 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Phone"}),e.jsx(i,{className:"dark:bg-gray-750 bg-gray-50 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Currency"}),e.jsx(i,{className:"dark:bg-gray-750 bg-gray-50 text-right text-xs font-medium text-gray-500 dark:text-gray-400",children:"Actions"})]})}),e.jsx(V,{children:n.map(t=>e.jsxs(G,{className:"dark:hover:bg-gray-750 border-b border-gray-100 hover:bg-gray-50 dark:border-gray-700",children:[e.jsx(o,{className:"py-3",children:e.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:t.name})}),e.jsx(o,{className:"text-sm text-gray-700 dark:text-gray-300",children:t.contact_person||e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Not specified"})}),e.jsx(o,{className:"text-sm text-gray-700 dark:text-gray-300",children:t.email||e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Not specified"})}),e.jsx(o,{className:"text-sm text-gray-700 dark:text-gray-300",children:t.phone||e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Not specified"})}),e.jsx(o,{className:"text-sm text-gray-700 dark:text-gray-300",children:t.currency||"USD"}),e.jsx(o,{className:"text-right",children:e.jsxs(H,{children:[e.jsx(L,{asChild:!0,children:e.jsx(d,{variant:"ghost",size:"icon",className:"h-8 w-8 p-0 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700",children:e.jsx(X,{className:"h-4 w-4"})})}),e.jsxs(B,{align:"end",className:"w-48",children:[e.jsx(y,{href:route("client.projects",t.id),children:e.jsxs(x,{className:"group cursor-pointer",children:[e.jsx(A,{className:"h-4 w-4 text-gray-500 group-hover:text-gray-700 dark:text-gray-400 dark:group-hover:text-gray-300"}),e.jsx("span",{children:"Projects"})]})}),e.jsx(y,{href:route("client.invoices",t.id),children:e.jsxs(x,{className:"group cursor-pointer",children:[e.jsx(Z,{className:"h-4 w-4 text-gray-500 group-hover:text-gray-700 dark:text-gray-400 dark:group-hover:text-gray-300"}),e.jsx("span",{children:"Invoices"})]})}),e.jsxs(x,{className:"group cursor-pointer",onClick:()=>{s("edit"),m(t),a(!0)},children:[e.jsx(ee,{className:"h-4 w-4 text-gray-500 group-hover:text-gray-700 dark:text-gray-400 dark:group-hover:text-gray-300"}),e.jsx("span",{children:"Edit"})]}),e.jsx(te,{clientId:t.id})]})]})})]},t.id))})]})}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(re,{className:"mb-4 h-12 w-12 text-gray-300 dark:text-gray-600"}),e.jsx("h3",{className:"mb-1 text-lg font-medium text-gray-800 dark:text-gray-200",children:"No Clients"}),e.jsx("p",{className:"mb-4 text-sm text-gray-500 dark:text-gray-400",children:"You haven't added any clients yet."}),e.jsxs(d,{className:"flex items-center gap-2 bg-gray-900 text-sm hover:bg-gray-800 dark:bg-gray-700 dark:hover:bg-gray-600",onClick:()=>{s("create"),m(null),a(!0)},children:[e.jsx(j,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Client"})]})]})})]})]}),e.jsx(Q,{open:g,mode:p,onClose:()=>a(!1),currencies:c,client:f??void 0}),e.jsx(K,{open:b,onOpenChange:h,filters:r})]})}export{Cr as default};
